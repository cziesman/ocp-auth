apiVersion: v1
kind: Secret
metadata:
  name: ocp-auth-server
type: Opaque
stringData:
  AMQ_NAME: broker
  AMQ_USER: redhat
  AMQ_PASSWORD: redhat
  AMQ_REQUIRE_LOGIN: true
  AMQ_DATA_DIR: /opt/amq/broker/data/
---
apiVersion: v1
kind: Secret
metadata:
  name: ocp-auth-server-login
type: Opaque
data:
  login.config: |-
    LyoKICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlCiAqIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuCiAqIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wCiAqICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoCiAqIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmFjdGl2ZW1xIHsKICAgb3JnLmFwYWNoZS5hY3RpdmVtcS5hcnRlbWlzLnNwaS5jb3JlLnNlY3VyaXR5LmphYXMuUHJvcGVydGllc0xvZ2luTW9kdWxlIHN1ZmZpY2llbnQKICAgICAgIGRlYnVnPWZhbHNlCiAgICAgICByZWxvYWQ9dHJ1ZQogICAgICAgb3JnLmFwYWNoZS5hY3RpdmVtcS5qYWFzLnByb3BlcnRpZXMudXNlcj0iYXJ0ZW1pcy11c2Vycy5wcm9wZXJ0aWVzIgogICAgICAgb3JnLmFwYWNoZS5hY3RpdmVtcS5qYWFzLnByb3BlcnRpZXMucm9sZT0iYXJ0ZW1pcy1yb2xlcy5wcm9wZXJ0aWVzIjsKCiAgIG9yZy5hcGFjaGUuYWN0aXZlbXEuYXJ0ZW1pcy5zcGkuY29yZS5zZWN1cml0eS5qYWFzLkd1ZXN0TG9naW5Nb2R1bGUgc3VmZmljaWVudAogICAgICAgZGVidWc9ZmFsc2UKICAgICAgIG9yZy5hcGFjaGUuYWN0aXZlbXEuamFhcy5ndWVzdC51c2VyPSJyZWRoYXQiCiAgICAgICBvcmcuYXBhY2hlLmFjdGl2ZW1xLmphYXMuZ3Vlc3Qucm9sZT0iYWRtaW4iOwoKICBvcmcuYXBhY2hlLmFjdGl2ZW1xLmFydGVtaXMuc3BpLmNvcmUuc2VjdXJpdHkuamFhcy5LdWJlcm5ldGVzTG9naW5Nb2R1bGUgcmVxdWlyZWQKICAgICAgZGVidWc9dHJ1ZQogICAgICByb2xlTmFtZT0iYW1xLXVzZXJzIgogICAgICByb2xlQ2xhaW09InJvbGVzIgogICAgICBzZXJ2aWNlQWNjb3VudFRva2VuPSIvdmFyL3J1bi9zZWNyZXRzL2t1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvdG9rZW4iCiAgICAgIGNsaWVudElkPSJzeXN0ZW06c2VydmljZWFjY291bnQ6b2NwLWF1dGgtc2VydmVyOm9jcC1hdXRoLXNlcnZlci1zYSI7Cn07
---
apiVersion: v1
kind: Secret
metadata:
  name: ocp-auth-server-log4j2
type: Opaque
data:
  log4j2.properties: |-
    # Licensed to the Apache Software Foundation (ASF) under one or more
    # contributor license agreements.  See the NOTICE file distributed with
    # this work for additional information regarding copyright ownership.
    # The ASF licenses this file to You under the Apache License, Version 2.0
    # (the "License"); you may not use this file except in compliance with
    # the License.  You may obtain a copy of the License at
    #
    # http://www.apache.org/licenses/LICENSE-2.0
    #
    # Unless required by applicable law or agreed to in writing, software
    # distributed under the License is distributed on an "AS IS" BASIS,
    # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    # See the License for the specific language governing permissions and
    # limitations under the License.
    
    # Log4J 2 configuration
    
    # Monitor config file every X seconds for updates
    monitorInterval = 5
    
    rootLogger.level = DEBUG
    rootLogger.appenderRef.console.ref = console
    
    logger.activemq.name=org.apache.activemq
    logger.activemq.level=INFO
    
    logger.artemis_server.name=org.apache.activemq.artemis.core.server
    logger.artemis_server.level=INFO
    
    logger.artemis_journal.name=org.apache.activemq.artemis.journal
    logger.artemis_journal.level=INFO
    
    logger.artemis_utils.name=org.apache.activemq.artemis.utils
    logger.artemis_utils.level=INFO
    
    # CriticalAnalyzer: If you have issues with the CriticalAnalyzer, setting this to TRACE would give
    # you extra troubleshooting info, but do not use TRACE regularly as it would incur extra CPU usage.
    logger.critical_analyzer.name=org.apache.activemq.artemis.utils.critical
    logger.critical_analyzer.level=INFO
    
    # Audit loggers: to enable change levels from OFF to INFO
    logger.audit_base.name = org.apache.activemq.audit.base
    logger.audit_base.level = OFF
    logger.audit_base.additivity = false
    
    logger.audit_resource.name = org.apache.activemq.audit.resource
    logger.audit_resource.level = OFF
    logger.audit_resource.additivity = false
    
    logger.audit_message.name = org.apache.activemq.audit.message
    logger.audit_message.level = OFF
    logger.audit_message.additivity = false
    
    # Jetty logger levels
    logger.jetty.name=org.eclipse.jetty
    logger.jetty.level=WARN
    
    # web console authenticator too verbose for impatient client
    logger.authentication_filter.name=io.hawt.web.auth.AuthenticationFilter
    logger.authentication_filter.level=ERROR
    
    # Quorum related logger levels
    logger.curator.name=org.apache.curator
    logger.curator.level=WARN
    logger.zookeeper.name=org.apache.zookeeper
    logger.zookeeper.level=ERROR
    
    
    # Console appender
    appender.console.type=Console
    appender.console.name=console
    appender.console.layout.type=PatternLayout
    appender.console.layout.pattern=%d %-5level [%logger] %msg%n
